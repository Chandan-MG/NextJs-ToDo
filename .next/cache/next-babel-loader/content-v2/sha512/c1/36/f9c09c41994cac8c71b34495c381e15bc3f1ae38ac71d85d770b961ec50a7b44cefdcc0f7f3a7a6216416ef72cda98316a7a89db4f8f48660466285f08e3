{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\chandan\\\\Sharpener projects\\\\NextJS\\\\todo\\\\01-starting-project\\\\pages\\\\todo-done\\\\index.js\";\nimport { useState } from 'react';\nimport classes from './todo-done.module.css';\nimport { RxTrash } from \"react-icons/rx\";\n\nfunction TodoDone({\n  doneList\n}) {\n  // const [listItem, setListItem] = useState(DUMMY_ITEM);\n  const {\n    0: isDeleting,\n    1: setIsDeleting\n  } = useState(false);\n\n  const deleteHandler = async id => {\n    setIsDeleting(true);\n\n    try {\n      const response = await fetch(`https://crudcrud.com/api/4307f38ee7274e5fa30e6ef92ac1d952/todo-done/${id}`, {\n        method: 'DELETE'\n      });\n\n      if (response.ok) {\n        // If deletion is successful, you can perform any necessary cleanup or UI updates\n        console.log('Item deleted successfully'); // Example: Refreshing the todo list after deletion\n\n        window.location.reload();\n      } else {\n        console.error('Failed to delete item:', response.status);\n      }\n    } catch (error) {\n      console.error('Error deleting item:', error);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: doneList.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.name,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.delete,\n        children: /*#__PURE__*/_jsxDEV(RxTrash, {\n          color: \"red\",\n          style: {\n            width: '30px',\n            height: '30px'\n          },\n          onClick: () => deleteHandler(item.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\nexport async function getStaticProps() {\n  try {\n    const response = await fetch(`https://crudcrud.com/api/4307f38ee7274e5fa30e6ef92ac1d952/todo-done`);\n\n    if (response.ok) {\n      const doneList = await response.json();\n      return {\n        props: {\n          doneList\n        }\n      };\n    } else {\n      console.error(\"Failed to fetch data:\", response.status);\n      return {\n        props: {\n          doneList: []\n        }\n      };\n    }\n  } catch (error) {\n    console.error(\"Error fetching:\", error);\n    return {\n      props: {\n        doneList: []\n      }\n    };\n  }\n}\nexport default TodoDone;","map":{"version":3,"sources":["D:/chandan/Sharpener projects/NextJS/todo/01-starting-project/pages/todo-done/index.js"],"names":["useState","classes","RxTrash","TodoDone","doneList","isDeleting","setIsDeleting","deleteHandler","id","response","fetch","method","ok","console","log","window","location","reload","error","status","map","item","card","name","delete","width","height","getStaticProps","json","props"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAIA,SAASC,QAAT,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAA+B;AAE3B;AAEA,QAAM;AAAA,OAACC,UAAD;AAAA,OAAaC;AAAb,MAA8BN,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMO,aAAa,GAAG,MAAOC,EAAP,IAAc;AAChCF,IAAAA,aAAa,CAAC,IAAD,CAAb;;AACA,QAAI;AACA,YAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,uEAAsEF,EAAG,EAA3E,EAA8E;AACtGG,QAAAA,MAAM,EAAE;AAD8F,OAA9E,CAA5B;;AAGA,UAAIF,QAAQ,CAACG,EAAb,EAAiB;AACb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAFa,CAGb;;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,OALD,MAKO;AACHJ,QAAAA,OAAO,CAACK,KAAR,CAAc,wBAAd,EAAwCT,QAAQ,CAACU,MAAjD;AACH;AACJ,KAZD,CAYE,OAAOD,KAAP,EAAc;AACZL,MAAAA,OAAO,CAACK,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACH,KAdD,SAcU;AACNZ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH;AACJ,GAnBD;;AAoBA,sBACI;AAAA,cACKF,QAAQ,CAACgB,GAAT,CAAaC,IAAI,iBACd;AAAK,MAAA,SAAS,EAAEpB,OAAO,CAACqB,IAAxB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAErB,OAAO,CAACsB,IAAxB;AAAA,+BACI;AAAA,oBAAKF,IAAI,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAEtB,OAAO,CAACuB,MAAxB;AAAA,+BACI,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,KAAf;AAAqB,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,MAAT;AAAiBC,YAAAA,MAAM,EAAE;AAAzB,WAA5B;AAA+D,UAAA,OAAO,EAAE,MAAMnB,aAAa,CAACc,IAAI,CAACb,EAAN;AAA3F;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA,OAAmCa,IAAI,CAACb,EAAxC;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;AAGD,OAAO,eAAemB,cAAf,GAAgC;AACnC,MAAI;AACF,UAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAAE,qEAAF,CAA5B;;AACA,QAAID,QAAQ,CAACG,EAAb,EAAiB;AACf,YAAMR,QAAQ,GAAG,MAAMK,QAAQ,CAACmB,IAAT,EAAvB;AACA,aAAO;AACLC,QAAAA,KAAK,EAAE;AACLzB,UAAAA;AADK;AADF,OAAP;AAKD,KAPD,MAOO;AACLS,MAAAA,OAAO,CAACK,KAAR,CAAc,uBAAd,EAAuCT,QAAQ,CAACU,MAAhD;AACA,aAAO;AAAEU,QAAAA,KAAK,EAAE;AAAEzB,UAAAA,QAAQ,EAAE;AAAZ;AAAT,OAAP;AACD;AACF,GAbD,CAaE,OAAOc,KAAP,EAAc;AACdL,IAAAA,OAAO,CAACK,KAAR,CAAc,iBAAd,EAAiCA,KAAjC;AACA,WAAO;AAAEW,MAAAA,KAAK,EAAE;AAAEzB,QAAAA,QAAQ,EAAE;AAAZ;AAAT,KAAP;AACD;AACJ;AAED,eAAeD,QAAf","sourcesContent":["import { useState } from 'react';\r\nimport classes from './todo-done.module.css';\r\nimport { RxTrash } from \"react-icons/rx\";\r\n\r\n\r\n\r\nfunction TodoDone({ doneList }){\r\n    \r\n    // const [listItem, setListItem] = useState(DUMMY_ITEM);\r\n\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n    const deleteHandler = async (id) => {\r\n        setIsDeleting(true);\r\n        try {\r\n            const response = await fetch(`https://crudcrud.com/api/4307f38ee7274e5fa30e6ef92ac1d952/todo-done/${id}`, {\r\n                method: 'DELETE'\r\n            });\r\n            if (response.ok) {\r\n                // If deletion is successful, you can perform any necessary cleanup or UI updates\r\n                console.log('Item deleted successfully');\r\n                // Example: Refreshing the todo list after deletion\r\n                window.location.reload();\r\n            } else {\r\n                console.error('Failed to delete item:', response.status);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting item:', error);\r\n        } finally {\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n    return(\r\n        <div>\r\n            {doneList.map(item => (\r\n                <div className={classes.card} key={item.id}>\r\n                    <div className={classes.name}>\r\n                        <h3>{item.name}</h3>\r\n                    </div>\r\n                    <div className={classes.delete}>\r\n                        <RxTrash color=\"red\" style={{ width: '30px', height: '30px' }} onClick={() => deleteHandler(item.id)} />\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport async function getStaticProps() {\r\n    try {\r\n      const response = await fetch(`https://crudcrud.com/api/4307f38ee7274e5fa30e6ef92ac1d952/todo-done`);\r\n      if (response.ok) {\r\n        const doneList = await response.json();\r\n        return { \r\n          props: { \r\n            doneList \r\n          } \r\n        };\r\n      } else {\r\n        console.error(\"Failed to fetch data:\", response.status);\r\n        return { props: { doneList: [] } };\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching:\", error);\r\n      return { props: { doneList: [] } };\r\n    }\r\n}\r\n\r\nexport default TodoDone;"]},"metadata":{},"sourceType":"module"}